<!-- templates/fragments/navbar.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
<div th:fragment="navbar">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4">
    <a class="navbar-brand" href="/">Job Portal</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

        <!-- Employer Dashboard -->
        <li class="nav-item" sec:authorize="hasRole('EMPLOYER')">
          <a class="nav-link" th:href="@{/employer/dashboard}">Dashboard</a>
        </li>

        <!-- Applicant Browse Jobs -->
        <li class="nav-item" sec:authorize="hasRole('APPLICANT')">
          <a class="nav-link" th:href="@{/applicant/browse-jobs}">Browse Jobs</a>
        </li>

        <!-- My Applications -->
        <li class="nav-item" sec:authorize="hasRole('APPLICANT')">
          <a class="nav-link" th:href="@{/applicant/my-apps}">My Applications</a>
        </li>
      </ul>

      <ul class="navbar-nav">

        <!-- Login/Register (when not logged in) -->
        <li class="nav-item" sec:authorize="isAnonymous()">
          <a class="nav-link" th:href="@{/login}">Login</a>
        </li>
        <li class="nav-item" sec:authorize="isAnonymous()">
          <a class="nav-link" th:href="@{/register}">Register</a>
        </li>

        <!-- Logout (when logged in) -->
        <li class="nav-item" sec:authorize="isAuthenticated()">
          <a class="nav-link" th:href="@{/logout}">Logout</a>
        </li>
      </ul>
    </div>
  </nav>
</div>
</body>
</html>
